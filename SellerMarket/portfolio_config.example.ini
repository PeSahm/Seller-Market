# Portfolio Manager Configuration
# 
# This configuration file is used by portfolio_manager.py to monitor and
# automatically sell stocks based on market conditions.
#
# Copy this file to portfolio_config.ini and fill in your credentials.
#
# Each section represents an account/ISIN combination to monitor.
# You can have multiple sections for different accounts and stocks.
#
# =============================================================================
# MARKET TIMING (Tehran Stock Exchange)
# =============================================================================
#
# | Time Period       | Description                              | Actions    |
# |-------------------|------------------------------------------|------------|
# | 08:45:00-08:55:00 | Pre-market order entry                   | Place/Cancel|
# | 08:55:00-09:02:00 | Order FREEZE - No modifications allowed  | None       |
# | 09:00:00          | Market opens, orders start matching      | None       |
# | 09:02:00+         | Trading session, can modify orders       | Place/Cancel|
#
# =============================================================================
# SELL LOGIC
# =============================================================================
#
# 1. QUEUED (Seller's Market) + Low Demand:
#    - When buy volume drops below min_buy_volume threshold
#    - Sell at BEST BUY PRICE for maximum profit before queue breaks
#
# 2. NORMAL MARKET (Not Queued):
#    - Competition with other sellers
#    - Sell at last_price * sell_discount (e.g., 0.99 = -1%)
#    - Continuously monitors and reprices orders to stay competitive
#
# 3. PRE-MARKET NORMAL (Rare opportunity):
#    - Stock becomes normal before market opens
#    - Sell immediately at discounted price
#
# =============================================================================

[Portfolio_Example_BBI]
# Account credentials
username = YOUR_ACCOUNT_NUMBER
password = YOUR_PASSWORD

# Broker code: gs, bbi, shahr, karamad, tejarat, ebb, ib
broker = bbi

# Stock ISIN to monitor
isin = IRO1DTRA0001

# TSETMC instrument code (inscode) for real-time market data
# Find it on TSETMC website in the stock URL
# e.g., https://old.tsetmc.com/Loader.aspx?Partree=...&i=35425587644337450
# The number after "i=" is the inscode
# Using TSETMC reduces broker API calls and avoids rate limiting
inscode = 35425587644337450

# Minimum buy volume threshold (default: 30,000,000)
# When stock is QUEUED and buy volume drops BELOW this threshold,
# it indicates demand is dropping - sell at best buy price for max profit
min_buy_volume = 30000000

# Sell discount for NORMAL market (not queued) selling (default: 0.99 = -1%)
# In normal market, must compete with other sellers
# Set lower (e.g., 0.98) for more aggressive pricing
sell_discount = 0.99

# Check interval in seconds (default: 1.0)
# How often to check market conditions
# Lower = more responsive but more API calls
check_interval = 1.0


[Portfolio_Example_GS]
# Example for Ghadir Shahr broker with more aggressive settings
username = YOUR_ACCOUNT_NUMBER
password = YOUR_PASSWORD
broker = gs
isin = IRO1MHRN0001
inscode = 778253364357513  # Find on TSETMC website
min_buy_volume = 50000000
sell_discount = 0.98  # More aggressive -2% discount
check_interval = 0.5  # Faster checking


# Add more sections as needed for different accounts/stocks
# [Portfolio_Account2_Stock1]
# username = ...
# password = ...
# broker = ...
# isin = ...

